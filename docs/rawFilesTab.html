<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.294">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Cox Lab">
<meta name="dcterms.date" content="2023-10-24">

<title>Raw files tab</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./Figures/coxlab_logo2.png" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">HOME</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./maxquant_instructions.html" rel="" target="">
 <span class="menu-text">MaxQuant</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./perseus_instructions.html" rel="" target="">
 <span class="menu-text">Perseus</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./andromeda_instructions.html" rel="" target="">
 <span class="menu-text">Andromeda</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="./contact.html" rel="" target=""><i class="bi bi-envelope" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/cox-labs/CoxLab_Bug_Reporting" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/TheCoxLab" rel="" target=""><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/juergen-cox-2437ba17/" rel="" target=""><i class="bi bi-fa-linkedin fa-lg" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="-1">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#raw-files-table" id="toc-raw-files-table" class="nav-link active" data-scroll-target="#raw-files-table"><span class="header-section-number">1</span> Raw files table</a></li>
  <li><a href="#raw-files-functions" id="toc-raw-files-functions" class="nav-link" data-scroll-target="#raw-files-functions"><span class="header-section-number">2</span> Raw files functions</a>
  <ul>
  <li><a href="#input-data-group" id="toc-input-data-group" class="nav-link" data-scroll-target="#input-data-group"><span class="header-section-number">2.1</span> Input data group</a></li>
  <li><a href="#load-button" id="toc-load-button" class="nav-link" data-scroll-target="#load-button"><span class="header-section-number">2.2</span> Load button</a></li>
  <li><a href="#remove-button" id="toc-remove-button" class="nav-link" data-scroll-target="#remove-button"><span class="header-section-number">2.3</span> Remove button</a></li>
  <li><a href="#sec-load-folder" id="toc-sec-load-folder" class="nav-link" data-scroll-target="#sec-load-folder"><span class="header-section-number">2.4</span> Load folder button</a></li>
  <li><a href="#change-folder-button" id="toc-change-folder-button" class="nav-link" data-scroll-target="#change-folder-button"><span class="header-section-number">2.5</span> Change folder button</a></li>
  </ul></li>
  <li><a href="#experimental-design-file-group" id="toc-experimental-design-file-group" class="nav-link" data-scroll-target="#experimental-design-file-group"><span class="header-section-number">3</span> Experimental design file group</a>
  <ul>
  <li><a href="#write-template-button" id="toc-write-template-button" class="nav-link" data-scroll-target="#write-template-button"><span class="header-section-number">3.1</span> Write template button</a></li>
  <li><a href="#read-from-file-button" id="toc-read-from-file-button" class="nav-link" data-scroll-target="#read-from-file-button"><span class="header-section-number">3.2</span> Read from file button</a></li>
  </ul></li>
  <li><a href="#edit-experimental-design-group" id="toc-edit-experimental-design-group" class="nav-link" data-scroll-target="#edit-experimental-design-group"><span class="header-section-number">4</span> Edit experimental design group</a>
  <ul>
  <li><a href="#set-experiment-button" id="toc-set-experiment-button" class="nav-link" data-scroll-target="#set-experiment-button"><span class="header-section-number">4.1</span> Set experiment button</a></li>
  <li><a href="#set-parameter-group-button" id="toc-set-parameter-group-button" class="nav-link" data-scroll-target="#set-parameter-group-button"><span class="header-section-number">4.2</span> Set parameter group button</a></li>
  <li><a href="#set-fractions-button" id="toc-set-fractions-button" class="nav-link" data-scroll-target="#set-fractions-button"><span class="header-section-number">4.3</span> Set fractions button</a></li>
  <li><a href="#no-fractions-button" id="toc-no-fractions-button" class="nav-link" data-scroll-target="#no-fractions-button"><span class="header-section-number">4.4</span> No fractions button</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Raw files tab</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Cox Lab </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">October 24, 2023</p>
    </div>
  </div>
  
    
  </div>
  


</header>

<p>The <strong>Raw files</strong> tab displays information about your raw data sources and offers functions for dealing with those sources and the specification of your experimental design. This page first describes the columns of the raw files table and then the functions available to change it, organized following the buttons and button groups.</p>
<p>We often refer to a source of raw data as a raw <em>file</em>, but in some data formats the source is actually a <em>folder</em>. Currently, the file-based raw data formats supported and their (case insensitive) extensions are:</p>
<ul>
<li>ABSciex (*.wiff)</li>
<li>MzXml (*.mzxml)</li>
<li>Thermo (*.raw)</li>
<li>Uimf (*.uimf)</li>
</ul>
<p>The folder.based raw data formats and their extensions are:</p>
<ul>
<li>Agilent (*.d)</li>
<li>Bruker (*.d)</li>
</ul>
<section id="raw-files-table" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="raw-files-table"><span class="header-section-number">1</span> Raw files table</h2>
<p>The table displaying information about the raw data sources has seven columns.</p>
<ul>
<li><strong>File</strong>: the absolute path to the file or folder containing the raw data.</li>
<li><strong>Exists</strong>: whether the file or folder currently exists at that location on the file system.</li>
<li><strong>Size</strong>: if the path points to an existing file (not a folder), the size of that file.</li>
<li><strong>Data format</strong>: the vendor or standard defining the format in which the data is stored, and whether it is file-based or folder-based.</li>
<li><strong>Parameter group</strong>: The data files may be organized at the user’s discretion in groups, which may be given different parameters.</li>
<li><strong>Experiment</strong>: The experiment is text that the user can choose and use however convenient, for example to group raw data or to remind him of the characteristics of the samples from which the data was taken.</li>
<li><strong>Fraction</strong>: Often the samples will be pre-processed with a procedure, for example centrifugation, that produces several sub-samples in a particular sequence. These sub-samples can be labeled with integers in the fractions column.</li>
</ul>
</section>
<section id="raw-files-functions" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="raw-files-functions"><span class="header-section-number">2</span> Raw files functions</h2>
<section id="input-data-group" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="input-data-group"><span class="header-section-number">2.1</span> Input data group</h3>
<p>The <strong>Load</strong> and <strong>Load folder</strong> buttons are described here, but you should be aware that there are two other ways to load raw files.</p>
<p>One is by loading parameters stored in an <code>*.xml</code> file, usually named <code>mqpar.xml</code>. To do this, use the <strong>Load parameters</strong> item on the drop-down menu just left of the <strong>Raw files</strong> tab. A file browser will open so you can load the parameters you want, including the raw data files.</p>
<p>The other way to load raw files is by <strong>drag-and-drop</strong> from a file explorer. The behavior will depend on what you select.</p>
<ul>
<li>If you select a single file with an <code>*.xml</code> extension (usually <code>mqpar.xml</code>), the raw data files and other parameters stored there will be loaded.</li>
<li>If all of the items you select are recognized as raw data files, then these will be loaded.</li>
<li>If any of the items you select is not recognized as a raw data file, then each folder among the selected items will be searched recursively for raw data files. All files found will be loaded. If there are also files which are not recognized as raw data, they will be silently passed over.</li>
</ul>
</section>
<section id="load-button" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="load-button"><span class="header-section-number">2.2</span> Load button</h3>
<p>Pressing the <strong>Load</strong> button will open a file chooser window. The filter at the lower right may be selected to choose which type of file-based raw data source is visible and may be selected. Folder-based raw data sources cannot be loaded with this button, but the <strong>Load folder</strong> button (<a href="#sec-load-folder" class="quarto-xref">Section&nbsp;2.4</a>) can be used for these. The folders may be browsed and single or multiple files can be chosen in the usual way. When you have made your selection, press Open. (Remember, if you have chosen a folder, it will be opened for browsing. To load files, you must have only files selected.) The file or files chosen will be added to the table, unless they are already present there.</p>
</section>
<section id="remove-button" class="level3" data-number="2.3">
<h3 data-number="2.3" class="anchored" data-anchor-id="remove-button"><span class="header-section-number">2.3</span> Remove button</h3>
<p>This button removes the selected raw data rows from the table.</p>
</section>
<section id="sec-load-folder" class="level3" data-number="2.4">
<h3 data-number="2.4" class="anchored" data-anchor-id="sec-load-folder"><span class="header-section-number">2.4</span> Load folder button</h3>
<p>The <strong>Load folder</strong> button can be used in three ways:</p>
<ul>
<li>to open a single, folder-based raw data source,</li>
<li>to open all the raw data sources of any sort (whether file-based or folder based) in the chosen folder, or</li>
<li>to open all the raw data sources of any sort anywhere under the chosen folder, that is, recursively.</li>
</ul>
<p>Because there could be many items in a directory that are not raw data sources, all such items are silently ignored.</p>
</section>
<section id="change-folder-button" class="level3" data-number="2.5">
<h3 data-number="2.5" class="anchored" data-anchor-id="change-folder-button"><span class="header-section-number">2.5</span> Change folder button</h3>
<p>Raw data files loaded by the buttons or with drag-and-drop will, naturally, exist. When an <code>mqpar.xml</code> file is loaded, however, the files mentioned may no longer exist. For example, some processing of the files may have been done and a parameter file saved, but the files subsequently moved to another folder or drive. If the files are still together, the situation may be saved by telling MaxQuant where to find them now. When you press the <strong>Change folder</strong> button you will be presented with the part of the path that the files in the table have in common and given the opportunity to change it to the path that is currently correct, either by editing or by browsing.</p>
</section>
</section>
<section id="experimental-design-file-group" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="experimental-design-file-group"><span class="header-section-number">3</span> Experimental design file group</h2>
<section id="write-template-button" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="write-template-button"><span class="header-section-number">3.1</span> Write template button</h3>
<p><em>No documentation yet.</em></p>
</section>
<section id="read-from-file-button" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="read-from-file-button"><span class="header-section-number">3.2</span> Read from file button</h3>
<p><em>No documentation yet.</em></p>
</section>
</section>
<section id="edit-experimental-design-group" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="edit-experimental-design-group"><span class="header-section-number">4</span> Edit experimental design group</h2>
<section id="set-experiment-button" class="level3" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="set-experiment-button"><span class="header-section-number">4.1</span> Set experiment button</h3>
<p>Normally the experiment is left blank when raw data is loaded. The exception is when data is loaded recursively from a folder, in which case MaxQuant generates an value for the experiment from the paths to the files. To set or change the value of experiment, choose one or more files and press the <strong>Set experiment</strong> button. You will see a pop-up window where you can enter the new value.</p>
</section>
<section id="set-parameter-group-button" class="level3" data-number="4.2">
<h3 data-number="4.2" class="anchored" data-anchor-id="set-parameter-group-button"><span class="header-section-number">4.2</span> Set parameter group button</h3>
<p>This button allows you to set or change the value of the parameter group for the selected files to anything from Group 0 to Group 19.</p>
</section>
<section id="set-fractions-button" class="level3" data-number="4.3">
<h3 data-number="4.3" class="anchored" data-anchor-id="set-fractions-button"><span class="header-section-number">4.3</span> Set fractions button</h3>
<p>When you press the <strong>Set fractions</strong> button, you will be given the opportunity to set two integer values. The value you put in the lower box must be greater than or equal to the value you put in the upper box. The raw data files you have selected will be assigned fraction numbers cyclically from the lower value to the higher value, e.g 1, 2, 3, 1, 2, 3, … .</p>
</section>
<section id="no-fractions-button" class="level3" data-number="4.4">
<h3 data-number="4.4" class="anchored" data-anchor-id="no-fractions-button"><span class="header-section-number">4.4</span> No fractions button</h3>
<p>Pressing this button will remove all values in the fraction column. (Not just the values for the selected files!) It will also recalculate the values in the Experiment column.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        for (let i = 0; i < 2; i++) {
          container.appendChild(note.children[i].cloneNode(true));
        }
        return container.innerHTML
      } else {
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>© 2023, created by and maintained by Cox lab</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>